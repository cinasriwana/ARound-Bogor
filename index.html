<!DOCTYPE html>
<html>
  <head>
    <title>Step Around Bogor - AR</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
      /* Gaya untuk tombol Next Step */
      .ar-button {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        padding: 15px 30px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 25px;
        font-family: Arial, sans-serif;
        font-size: 18px;
        display: none; /* Muncul hanya saat marker terdeteksi */
        z-index: 999;
      }
    </style>
  </head>

  <body style="margin: 0px; overflow: hidden;">
    <div id="splash" style="position:fixed; width:100%; height:100%; background:white; z-index:9999; display:flex; flex-direction:column; align-items:center; justify-content:center;">
       <h2>Step Around Bogor</h2>
       <p>Loading Your Virtual Tour Guide...</p>
    </div>

    <button id="nextStepBtn" class="ar-button" onclick="window.open('https://maps.google.com/?q=Taman+Meksiko+Bogor', '_blank')">
      Next Step
    </button>

    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
      
      <a-marker type="pattern" url="https://cdn.glitch.global/your-id/pattern-Taman Mexico.patt" id="mexicoMarker">
        
        <a-plane position="0 0.5 0" rotation="-90 0 0" width="2.5" height="0.8" color="#007bff"></a-plane>
        
        <a-entity 
          text="value: Toward Mexico Garden; align: center; width: 5; color: white; font: https://cdn.aframe.io/fonts/DejaVu-sans.json" 
          position="0 0.51 0" rotation="-90 0 0">
        </a-entity>

        <a-entity 
          text="value: 30m; align: center; width: 8; color: #FFD700; font: https://cdn.aframe.io/fonts/DejaVu-sans.json" 
          position="0 0.51 0.4" rotation="-90 0 0">
        </a-entity>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <script>
      // Sembunyikan Splash Screen setelah loading
      window.addEventListener('load', () => {
        document.getElementById('splash').style.display = 'none';
      });

      // Logika untuk menampilkan tombol saat marker terdeteksi
      const marker = document.querySelector('#mexicoMarker');
      const btn = document.querySelector('#nextStepBtn');

      marker.addEventListener('markerFound', () => {
        btn.style.display = 'block';
      });

      marker.addEventListener('markerLost', () => {
        btn.style.display = 'none';
      });
    </script>
  </body>
</html>
